<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <script src="https://kit.fontawesome.com/3f7c31d0ad.js" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="./views/dashhboard.css"> 
</head>

<body>
    <div class="header"><img src="./views/logo.png" alt="logo">  <div class="navbar">
     <ul>
         <li class="navbar">     <a  class="navbar" href="./home.html">Home</a>     </li>
         <li class="navbar">   <a  class="navbar" href="./update.html">contact</a>  </li>
         <li class="navbar">   <a    style="color: red;"   class="navbar" href="./dashboard.html">Dashboard</a> </li>
     </ul>


    </div> </div>
    <div class="container">
       <div class="block">
        <div class="sec"><i class="fas fa-user-tie"></i>  <div  style="display: inline;font-size: large; " id="usrname">  </div> </div>
        <div class="sec1">
           <div class="item"><a href="./dashboard.html">Employes</a></div>
           <div class="item">Setting</div>
           <div class="item">personalisation</div>
           
           <button class="item" id="logoutbtn"> Logout</button>
           <div class="item">   <a href="./register.html">Register</a></div>
           <div class="item">Media</div>
           <div class="item"> <a href="./home.html">Aboutus</a> </div>
       </div>

       </div>
       <div class="block1"><div class="section"  id="section1" ><h1>hey User! welcome to the Dashboard</h1></div>
       <div class="section" id="section">
        <div class="item"><i class="far fa-user"></i>User 1</div>
       <div class="item"><i class="far fa-user"></i>User 2</div>
       <div class="item"><i class="far fa-user"></i>User 3</div>
       <div class="item"><i class="far fa-user"></i>User 4</div>
       <div class="item"><i class="far fa-user"></i>User 5</div>
       <div class="item"><i class="far fa-user"></i>User 6</div> 
       <div class="item"><i class="far fa-user"></i>User 7</div>
       <div class="item"><i class="far fa-user"></i>User 8</div>
       <div class="item"><i class="far fa-user"></i>User 9</div>
       <div class="item"><i class="far fa-user"></i>User 10</div>
       <div class="item"><i class="far fa-user"></i>User 11</div>
       <div class="item"><i class="far fa-user"></i>User 12</div></div>
        </div> 
    </div>
</body>
<script type="module" >
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.6/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.6.6/firebase-analytics.js";
  import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.6.6/firebase-auth.js";
  import { getDatabase, set, ref, update } from "https://www.gstatic.com/firebasejs/9.6.6/firebase-database.js";
  
  const firebaseConfig = {
    apiKey: "AIzaSyAaoCTb0MpFa9zmcfsdbMbNfaxsobQZO9w",
    authDomain: "webdev-2d433.firebaseapp.com",
    databaseURL: "https://webdev-2d433-default-rtdb.firebaseio.com",
    projectId: "webdev-2d433",
    storageBucket: "webdev-2d433.appspot.com",
    messagingSenderId: "354502444257",
    appId: "1:354502444257:web:19bd6c4767dd7156f8a3a0",
    measurementId: "G-10M78B5HPP"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
  const auth = getAuth() ;
  const database = getDatabase(app);

//Managing logged in user
  const user = auth.currentUser;
onAuthStateChanged(auth, (user) => {
  if (user) {
    //alert("user is signed in");
    document.getElementById("usrname").innerText = user.email  ;
    const uid = user.email ;
    console.log(user);

  } else {
    alert("User is signed out") ;

  }
});

//Logging out user

const logout = document.getElementById("logoutbtn") ;

logout.addEventListener('click',(e)=>{

signOut(auth).then(() => {
  // Sign-out successful.
  alert('user loged out');
  window.location.href = "index.html";
}).catch((error) => {
  // An error happened.
  const errorCode = error.code;
  const errorMessage = error.message;

     alert(errorMessage);
});

});

  
      </script>
</html>

